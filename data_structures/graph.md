# Graph
  - 네트워크 구조를 추상화한 모델
  - 간선(Edge)으로 연결된 정점(Vertex or Node)의 집합
  - 이진 관계를 표현하는 비선형 자료구조
  - ex) 소셜네트워크, 도로, 항로, 통신 등에 활용

### 그래프 용어
```
                      ---
                ---- | A | --------
              /       --- \         \
             /             \         \
          ---               ---        ---
         | B |             | C | ---- | D |
          ---               ---        ---
         /   \                \       /   \   
        /     \                \     /     \
     ---     ---                 ---        ---
    | E |   | F |               | G |      | H |
     ---     ---                 ---        ---
      |
     ---
    | I |
     ---
```
  - G = (V, E) // **G**: 그래프, **V**: 정점의 집합, **E**: V의 정점들을 연결하는 간선의 집합
  - 인접 정점(Adjacent vertex): 간선으로 연결된 정점 // A와 B, A와 C, A 와 D.
  - 정점의 차수(Degree): 인접 정점의 개수 // A의 차수는 3, E의 차수는 2
  - 경로(Path): 일련의 연속된 정점 // ABEI: A에서 I까지의 경로, ACD: A에서 D로 가는 경로
    - 단순 경로(Simple path): 반복된 정점을 포함하지 않는 경로 // ADG, ABF
    - 사이클(Cycle): 처음과 마지막 정점이 같은 단순 경로 // ADCA, ACDGCA
  - 비사이클 그래프(Acyclic graph): 사이클이 없는 그래프
  - 방향 그래프(Directed graph): 밑의 그림처럼 간선(들)이 한쪽으로 방향을 가진 그래프
  ```
     ---       ---
    | A | --> | B |
     ---       ---
  ```
  - 무방향 그래프(Undirected graph): 맨 위의 그림처럼 방향이 없는 그래프
  - 강결합(Strongly connected): 두 정점이 양방향으로 경로를 갖고 있을 때 // A와 B는 강결합되었다
  ```
     ---       ---
    | A | <--> | B |
     ---       ---
  ```
  - 가중치 그래프(Weighted graph): 간선에 비용(cost) or 강도(Weight) or ... 가 할당된 그래프
  ```
     ---    23   ---
    | A | <---> | B |
     ---         ---
    방향성의 유무와 상관없이 가중치 그래프를 구현할 수 있다
  ```

### 그래프 표현
#### 인접 행렬(Adjacency matrix)
  ```
  * 맨 위의 그래프 참조
       A B C D E F G H I
       -----------------
    A |0|1|1|1|0|0|0|0|0|
    B |1|0|0|0|1|1|0|0|0|
    C |1|0|0|1|0|0|1|0|0|
    D |1|0|1|0|0|0|1|1|0|
    E |0|1|0|0|0|0|0|0|1|
    F |0|1|0|0|0|0|0|0|0|
    G |0|0|1|1|0|0|0|0|0|
    H |0|0|0|1|0|0|0|0|0|
    I |0|0|0|0|1|0|0|0|0|
       -----------------
  ```
  - 각 노드에 정수형의 배열 인덱스를 셋팅
  - 정점 간 연결 상태는 2차원 배열로 표현
  - [i][j] == 1 // i정점과 j정점 사이에 간선 존재. 그 외에는 [i][j] == 0
  - 단점: 이웃한 정점이 하나뿐인 경우에도 전체 행을 순회해야 한다, 강결합이 아닌 경우 0이 너무 많아진다
          배열은 유연하지 않아.  
  - 두 정점의 인접 여부를 확인할 때 속도가 빠르다

#### 인접 리스트(Adjacency list)
  ```
  * 맨 위의 그래프 참조
       ---------
    A | B C D   |
    B | A E F   |
    C | A D G   |
    D | A C G H |
    E | B I     |
    F | B       |
    G | C D     |
    H | D       |
    I | E       |
       ---------
  ```
  - 동적 그래프 자료구조에 이용
  - 각 정점별로 인접 정점들의 리스트를 저장할 때 list or map 사용

#### 근접 행렬(Incidence matrix)
  ```
  * 맨 위의 그래프에서 A를 포함한 우측만 보자
       A-C A-D C-D C-E E-D D-H
       -----------------------
    A | 1   1   0   0   0   0 |
    B | 0   0   0   0   0   0 |
    C | 1   0   1   1   0   0 |
    D | 0   1   1   0   1   1 |
    E | 0   0   0   1   1   0 |
    H | 0   0   0   0   0   1 |
  ```
  - 정점은 행, 간선은 열
  - 두 정점 간 연결 상태는 2차원 배열로 나타낸다
  - [v][e] == 1 // v가 간선 e에 근접해 있음을 의미, 그 의에는 [v][e] == 0
  - 정점보다 간선이 상대적으로 많은 그래프에서 사용 (저장공간, 메모리 절약을 위해)

### 그래프 순회
  - 정점 사이의 경로를 찾거나 그래프가 연결 유무, 사이클 존재 유무등을 확인할 때 그래프를 순회한다
  - 아직 탐사할 정점이 있는지 계속 추적하는 일
  - 연결된 그래프에서 간선과 정점을 전부 방문한다

#### 너비 우선 탐색(BFS, Breadth-First Search)
  - 큐 사용
  - 시작 정점에서 순회를 시작해 그래프를 한 번에 한 층씩, 이웃한 정점들을 모두 방문한다
  - 맨 위의 그래프를 기준으로 A > B > C > D > E > F > G > H > I 순으로 방문한다
  - 최단 경로를 찾을 때 활용 가능
    - 시작 정점 v에서 거리가 1인 모든 정점을 방문한 다음,  
      거리가 2인 모든 정점을 방문하는 식으로 할 수 있다  
  
#### 깊이 우선 탐색(DFS, Depth-First Search)
  - 스택 사용
  - 시작 정점에서 출발해 동일 경로의 마지막 정점까지 순회하고  
    다시 반대 방향으로 돌아와 다음 경로를 찾아가는 식으로 진행된다  
  - 맨 위의 그래프를 기준으로 A > B > E > I > F > C > D > G > H
  - 위상 정렬(topsort, topological sorting)
    ```
               ---         ---
              | A |       | B |
               ---         ---
             /      \    /     \
            v        v  v       v
         ---         ---         ---
        | C |       | D |       | E |
         ---         ---         ---
            \                    ^
             \       ---        /
               ---> | F | ----- 
                     ---
    ```
    - 방향성이 있고 사이클이 없는 그래프를 방향성 비사이클 그래프(DAG, Directed Acyclic Graph)
    - 위상정렬은 DAG에만 적용 가능
    - 위의 그래프를 보면 방향이 정해져있기 때문에 F는 A보다 먼저 실행될 수 없다
    - 순서대로 진행되어야 하는 일에 사용된다
    - ex) 대학 과목에서 선수 과목이 명시되어 있는 경우. A과목을 수강 후 B과목을 수강 가능
    - 방문 순서는 알고리즘에 따라 달라질 수 있다 // but, 방향성을 따라야 한다
      - B > A > D > C > F > E
      - A > B > C > D > F > E










